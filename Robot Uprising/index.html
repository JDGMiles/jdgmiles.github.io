<!DOCTYPE html><html>

<head>
	<title>Robot Uprising</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="shortcut icon" href="favicon.ico">
</head>

<body style="background-color:#000000" onload="setup()"><center>

	<table style="position:absolute; left:10px; top:10px; background-color:black;">
		<td>
			<a href="#popup1"><img src="http://jdgmiles.github.io/questionmark.png" style="width:60px; height:60px"></a><br>
			<a href="http://jdgmiles.github.io/" target="_blank"><img src="http://jdgmiles.github.io/jdgm.png" style="width:60px; height:60px"></a>
		</td>
	</table>

	<table style="padding:0px 80px 0px 80px;">
<tr>
	<td id="15" onclick="flip(15)"><img src="ComputerRogue.png"></td>
	<td id="16" onclick="flip(16)"><img src="ComputerRogue.png"></td>
	<td id="17" onclick="flip(17)"><img src="ComputerRogue.png"></td>
	<td id="18" onclick="flip(18)"><img src="ComputerRogue.png"></td>
	<td id="19" onclick="flip(19)"><img src="ComputerRogue.png"></td>
	<td id="20" onclick="flip(20)"><img src="ComputerRogue.png"></td>
	<td id="21" onclick="flip(21)"><img src="ComputerRogue.png"></td>
	<td id="22" onclick="flip(22)"><img src="ComputerRogue.png"></td>
	<td id="23" onclick="flip(23)"><img src="ComputerRogue.png"></td>
	<td id="24" onclick="flip(24)"><img src="ComputerRogue.png"></td>
	<td id="25" onclick="flip(25)"><img src="ComputerRogue.png"></td>
</tr>
<tr>
	<td id="28" onclick="flip(28)"><img src="ComputerRogue.png"></td>
	<td id="29" onclick="flip(29)"><img src="ComputerRogue.png"></td>
	<td id="30" onclick="flip(30)"><img src="ComputerRogue.png"></td>
	<td id="31" onclick="flip(31)"><img src="ComputerRogue.png"></td>
	<td id="32" onclick="flip(32)"><img src="ComputerRogue.png"></td>
	<td id="33" onclick="flip(33)"><img src="ComputerRogue.png"></td>
	<td id="34" onclick="flip(34)"><img src="ComputerRogue.png"></td>
	<td id="35" onclick="flip(35)"><img src="ComputerRogue.png"></td>
	<td id="36" onclick="flip(36)"><img src="ComputerRogue.png"></td>
	<td id="37" onclick="flip(37)"><img src="ComputerRogue.png"></td>
	<td id="38" onclick="flip(38)"><img src="ComputerRogue.png"></td>
</tr>
<tr>
	<td id="41" onclick="flip(41)"><img src="ComputerRogue.png"></td>
	<td id="42" onclick="flip(42)"><img src="ComputerRogue.png"></td>
	<td id="43" onclick="flip(43)"><img src="ComputerRogue.png"></td>
	<td id="44" onclick="flip(44)"><img src="ComputerRogue.png"></td>
	<td id="45" onclick="flip(45)"><img src="ComputerRogue.png"></td>
	<td id="46" onclick="flip(46)"><img src="ComputerRogue.png"></td>
	<td id="47" onclick="flip(47)"><img src="ComputerRogue.png"></td>
	<td id="48" onclick="flip(48)"><img src="ComputerRogue.png"></td>
	<td id="49" onclick="flip(49)"><img src="ComputerRogue.png"></td>
	<td id="50" onclick="flip(50)"><img src="ComputerRogue.png"></td>
	<td id="51" onclick="flip(51)"><img src="ComputerRogue.png"></td>
</tr>
<tr>
	<td id="54" onclick="flip(54)"><img src="ComputerRogue.png"></td>
	<td id="55" onclick="flip(55)"><img src="ComputerRogue.png"></td>
	<td id="56" onclick="flip(56)"><img src="ComputerRogue.png"></td>
	<td id="57" onclick="flip(57)"><img src="ComputerRogue.png"></td>
	<td id="58" onclick="flip(58)"><img src="ComputerRogue.png"></td>
	<td id="59" onclick="flip(59)"><img src="ComputerRogue.png"></td>
	<td id="60" onclick="flip(60)"><img src="ComputerRogue.png"></td>
	<td id="61" onclick="flip(61)"><img src="ComputerRogue.png"></td>
	<td id="62" onclick="flip(62)"><img src="ComputerRogue.png"></td>
	<td id="63" onclick="flip(63)"><img src="ComputerRogue.png"></td>
	<td id="64" onclick="flip(64)"><img src="ComputerRogue.png"></td>
</tr>
<tr>
	<td id="67" onclick="flip(67)"><img src="ComputerRogue.png"></td>
	<td id="68" onclick="flip(68)"><img src="ComputerRogue.png"></td>
	<td id="69" onclick="flip(69)"><img src="ComputerRogue.png"></td>
	<td id="70" onclick="flip(70)"><img src="ComputerRogue.png"></td>
	<td id="71" onclick="flip(71)"><img src="ComputerRogue.png"></td>
	<td id="72" onclick="flip(72)"><img src="ComputerRogue.png"></td>
	<td id="73" onclick="flip(73)"><img src="ComputerRogue.png"></td>
	<td id="74" onclick="flip(74)"><img src="ComputerRogue.png"></td>
	<td id="75" onclick="flip(75)"><img src="ComputerRogue.png"></td>
	<td id="76" onclick="flip(76)"><img src="ComputerRogue.png"></td>
	<td id="77" onclick="flip(77)"><img src="ComputerRogue.png"></td>
</tr>
<tr>
	<td id="80" onclick="flip(80)"><img src="ComputerRogue.png"></td>
	<td id="81" onclick="flip(81)"><img src="ComputerRogue.png"></td>
	<td id="82" onclick="flip(82)"><img src="ComputerRogue.png"></td>
	<td id="83" onclick="flip(83)"><img src="ComputerRogue.png"></td>
	<td id="84" onclick="flip(84)"><img src="ComputerRogue.png"></td>
	<td id="85" onclick="flip(85)"><img src="ComputerRogue.png"></td>
	<td id="86" onclick="flip(86)"><img src="ComputerRogue.png"></td>
	<td id="87" onclick="flip(87)"><img src="ComputerRogue.png"></td>
	<td id="88" onclick="flip(88)"><img src="ComputerRogue.png"></td>
	<td id="89" onclick="flip(89)"><img src="ComputerRogue.png"></td>
	<td id="90" onclick="flip(90)"><img src="ComputerRogue.png"></td>
</tr>
<tr>
	<td id="93" onclick="flip(93)"><img src="ComputerRogue.png"></td>
	<td id="94" onclick="flip(94)"><img src="ComputerRogue.png"></td>
	<td id="95" onclick="flip(95)"><img src="ComputerRogue.png"></td>
	<td id="96" onclick="flip(96)"><img src="ComputerRogue.png"></td>
	<td id="97" onclick="flip(97)"><img src="ComputerRogue.png"></td>
	<td id="98" onclick="flip(98)"><img src="ComputerRogue.png"></td>
	<td id="99" onclick="flip(99)"><img src="ComputerRogue.png"></td>
	<td id="100" onclick="flip(100)"><img src="ComputerRogue.png"></td>
	<td id="101" onclick="flip(101)"><img src="ComputerRogue.png"></td>
	<td id="102" onclick="flip(102)"><img src="ComputerRogue.png"></td>
	<td id="103" onclick="flip(103)"><img src="ComputerRogue.png"></td>
</tr>
<tr>
	<td id="106" onclick="flip(106)"><img src="ComputerRogue.png"></td>
	<td id="107" onclick="flip(107)"><img src="ComputerRogue.png"></td>
	<td id="108" onclick="flip(108)"><img src="ComputerRogue.png"></td>
	<td id="109" onclick="flip(109)"><img src="ComputerRogue.png"></td>
	<td id="110" onclick="flip(110)"><img src="ComputerRogue.png"></td>
	<td id="111" onclick="flip(111)"><img src="ComputerRogue.png"></td>
	<td id="112" onclick="flip(112)"><img src="ComputerRogue.png"></td>
	<td id="113" onclick="flip(113)"><img src="ComputerRogue.png"></td>
	<td id="114" onclick="flip(114)"><img src="ComputerRogue.png"></td>
	<td id="115" onclick="flip(115)"><img src="ComputerRogue.png"></td>
	<td id="116" onclick="flip(116)"><img src="ComputerRogue.png"></td>
</tr>
<tr>
	<td id="119" onclick="flip(119)"><img src="ComputerRogue.png"></td>
	<td id="120" onclick="flip(120)"><img src="ComputerRogue.png"></td>
	<td id="121" onclick="flip(121)"><img src="ComputerRogue.png"></td>
	<td id="122" onclick="flip(122)"><img src="ComputerRogue.png"></td>
	<td id="123" onclick="flip(123)"><img src="ComputerRogue.png"></td>
	<td id="124" onclick="flip(124)"><img src="ComputerRogue.png"></td>
	<td id="125" onclick="flip(125)"><img src="ComputerRogue.png"></td>
	<td id="126" onclick="flip(126)"><img src="ComputerRogue.png"></td>
	<td id="127" onclick="flip(127)"><img src="ComputerRogue.png"></td>
	<td id="128" onclick="flip(128)"><img src="ComputerRogue.png"></td>
	<td id="129" onclick="flip(129)"><img src="ComputerRogue.png"></td>
</tr>
<tr>
	<td id="132" onclick="flip(132)"><img src="ComputerRogue.png"></td>
	<td id="133" onclick="flip(133)"><img src="ComputerRogue.png"></td>
	<td id="134" onclick="flip(134)"><img src="ComputerRogue.png"></td>
	<td id="135" onclick="flip(135)"><img src="ComputerRogue.png"></td>
	<td id="136" onclick="flip(136)"><img src="ComputerRogue.png"></td>
	<td id="137" onclick="flip(137)"><img src="ComputerRogue.png"></td>
	<td id="138" onclick="flip(138)"><img src="ComputerRogue.png"></td>
	<td id="139" onclick="flip(139)"><img src="ComputerRogue.png"></td>
	<td id="140" onclick="flip(140)"><img src="ComputerRogue.png"></td>
	<td id="141" onclick="flip(141)"><img src="ComputerRogue.png"></td>
	<td id="142" onclick="flip(142)"><img src="ComputerRogue.png"></td>
</tr>
<tr>
	<td id="145" onclick="flip(145)"><img src="ComputerRogue.png"></td>
	<td id="146" onclick="flip(146)"><img src="ComputerRogue.png"></td>
	<td id="147" onclick="flip(147)"><img src="ComputerRogue.png"></td>
	<td id="148" onclick="flip(148)"><img src="ComputerRogue.png"></td>
	<td id="149" onclick="flip(149)"><img src="ComputerRogue.png"></td>
	<td id="150" onclick="flip(150)"><img src="ComputerRogue.png"></td>
	<td id="151" onclick="flip(151)"><img src="ComputerRogue.png"></td>
	<td id="152" onclick="flip(152)"><img src="ComputerRogue.png"></td>
	<td id="153" onclick="flip(153)"><img src="ComputerRogue.png"></td>
	<td id="154" onclick="flip(154)"><img src="ComputerRogue.png"></td>
	<td id="155" onclick="flip(155)"><img src="ComputerRogue.png"></td>
</tr>
<tr><td colspan="11" onclick="go()"><img src="GO.png" style="width:627px"></td></tr>
</table>

<table><tr><td id="mapcode"></td></tr></table>

<div id="popup1" class="overlay">
	<div class="popup">
		<div style="font-family:Georgia; color:white; text-align:center; font-size:250%">&ldquo;Robot Uprising&rdquo;</div>
		<a class="close" href="#">&times;</a>
		<p style="font-family:Georgia; font-size:150%; color:white; text-align:justify;">Click a computer to make it happy. When you click the blue lightning bolt at the bottom, the happy computers spread according to some rule.<br><br>Can you figure out the rule, and make the whole grid happy in the fewest number of clicks?</p>
	</div>
</div>

</center></body>

</html>

<script type="text/javascript">
var state = []; for(var i=0; i<170; i++){state[i]=0;}
var edgecount = 0;
var progresscheck = 0;
var totalcure = 0;
var binarycode = window.location.search.substring(1);

function setup()
	{
		for(var i=0; i<170; i++)
			{
				if(parseInt((""+binarycode).charAt(i))==1){flip(i);}
			}
	}

function flip(cell)
	{
		if(state[cell]==1){document.getElementById(cell).innerHTML="<img src=\"ComputerRogue.png\">"; state[cell]=0; totalcure--;}
		else{document.getElementById(cell).innerHTML="<img src=\"ComputerFriendly.png\">"; state[cell]=1; totalcure++;}
		generatecode();
	}

function step()
	{
		for(var i=15; i<156; i++)
		{
			edgecount=0;
			if((i%13)>1 && state[i]==0)
			{
				if(state[i-1]==1){edgecount++;}
				if(state[i+1]==1){edgecount++;}
				if(state[i-13]==1){edgecount++;}
				if(state[i+13]==1){edgecount++;}
				if(edgecount>1){state[i]=2;}
			}
		}
		for(var i=15; i<156; i++)
		{
			if(state[i]==2){flip(i);}
		}
	}

function go()
	{
		if(totalcure>120){reset();}
		else{progresscheck=totalcure; step(); if(progresscheck<totalcure && totalcure<121){setTimeout(go,(200));}}
	}

function reset()
	{
		for(var i=15; i<156; i++){if(i%13>1){document.getElementById(i).innerHTML="<img src=\"ComputerRogue.png\">"; state[i]=0;}}
		totalcure=0;
		generatecode();
	}

function generatecode()
	{
		document.getElementById("mapcode").innerHTML="<p style=\"font-size:10%\">"+state.join("")+"</p>";
	}

</script>
