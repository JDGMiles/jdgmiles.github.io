<!DOCTYPE html><html>

  <head>
    <title>Slot Machine</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="shortcut icon" href="favicon.ico">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-62276892-2', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

<body>
	<center>
    <table style="position:absolute; left:10px; top:10px; background-color:black;">
      <td>
        <a href="#popup1"><img src="http://jdgmiles.github.io/questionmark.png" style="width:60px; height:60px"></a><br>
        <a href="https://twitter.com/JDGMiles/" target="_blank"><img src="http://jdgmiles.github.io/twitter.png" style="width:60px; height:60px"></a><br>
        <a href="http://JDGM.org/" target="_blank"><img src="http://jdgmiles.github.io/jdgm.png" style="width:60px; height:60px"></a>
      </td>
    </table>
    <table><span class="stopwatch">
		<a id="hours">00</a> : <a id="minutes">00</a> : <a id="seconds">00</a> : <a id="ms">000</a><br>
    <button onclick="startstop()">&nbsp;Stop/Go&nbsp;</button><button onclick="reset()">&nbsp;Reset&nbsp;</button>
  </span></table>

  <div id="popup1" class="overlay">
  	<div class="popup">
  		<div style="font-family:Georgia; color:white; text-align:center; font-size:250%">&ldquo;Stopwatch&rdquo;</div>
  		<a class="close" href="#">&times;</a>
  		<p style="font-family:Georgia; font-size:150%; color:white; text-align:justify;">Click &ldquo;Stop/Go&rdquo; to start or stop.<br><br>Click &ldquo;Reset&rdquo; to reset the stopwatch.<br><br>The point of making this page was to investigate how the Javascript setTimeout function relates to the milliseconds it <i>should</i> be accurately tracking.<br><br>It turns out that the function is not particularly accurate. So be careful!</p>
  	</div>
  </div>

	</center>
</body>

</html>

<script type="text/javascript">
var msperframe=16;

var ms=0;
var seconds=0;
var minutes=0;
var hours=0;

var go=0;

function updateclock(){

  if(go==1){ms+=msperframe;}

	if(ms>999){ms-=1000; seconds++;}
	if(seconds>59){seconds-=60; minutes++;}
	if(minutes>59){minutes-=60; hours++;}
	document.getElementById("ms").innerHTML=ms;
  if(ms<100){document.getElementById("ms").innerHTML="0"+ms;}
  if(ms<10){document.getElementById("ms").innerHTML="00"+ms;}
	document.getElementById("seconds").innerHTML=seconds;
	if(seconds<10){document.getElementById("seconds").innerHTML="0"+seconds;}
	document.getElementById("minutes").innerHTML=minutes;
	if(minutes<10){document.getElementById("minutes").innerHTML="0"+minutes;}
	document.getElementById("hours").innerHTML=hours;

  setTimeout(updateclock,msperframe-1);
}

function startstop(){
  if(go==0){go=1;}
  else{go=0;}

	}

function reset(){
  ms=0;
  seconds=0;
  minutes=0;
  hours=0;
  go=0;
}

updateclock();

</script>
