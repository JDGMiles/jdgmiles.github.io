<!DOCTYPE html><html>

<head>
  <title>Kana Sh&#333;ji &#20206;&#21517;&#38556;&#23376;</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="shortcut icon" href="favicon.ico">
  <meta name="viewport" content="width=1180, initial-scale=1">
</head>

<body onload="doorcoords();"><center><table>
  <td class="shojioutercell" id="redshoji" style="background-color:red;"><table class="shojiinnertable" style="background-color:red">
    <tr>
      <td class="charactercell" id="RC1" onclick="R(1)" style="background-color:white"><center><span id="R1">K</span></center></td>
      <td class="charactercell" id="RC2" onclick="R(2)" style="background-color:white"><center><span id="R2">A</span></center></td>
      <td class="charactercell" id="RC3" onclick="R(3)" style="background-color:white"><center><span id="R3">N</span></center></td>
    </tr>
    <tr>
      <td class="charactercell" id="RC4" onclick="R(4)"><center><span id="R4"></span></center></td>
      <td class="charactercell" id="RC5" onclick="R(5)" style="background-color:white"><center><span id="R5">S</span></center></td>
      <td class="charactercell" id="RC6" onclick="R(6)" style="background-color:white"><center><span id="R6">H</span></center></td>
    </tr>
    <tr>
      <td class="charactercell" id="RC7" onclick="R(7)"><center><span id="R7"><span style="color:white"></span></span></center></td>
      <td class="charactercell" id="RC8" onclick="R(8)"><center><span id="R8"><span style="color:white"></span></span></center></td>
      <td class="charactercell" id="RC9" onclick="R(9)"><center><span id="R9"><span style="color:white"></span></span></center></td>
    </tr>
    <tr>
      <td class="charactercell" id="RC10" onclick="R(10)"><center><span id="R10"><span style="color:white"></span></span></center></td>
      <td class="charactercell" id="RC11" onclick="R(11)"><center><span id="R11"><span style="color:white"></span></span></center></td>
      <td class="charactercell" id="RC12" onclick="R(12)"><center><span id="R12"><span style="color:white"></span></span></center></td>
    </tr>
  </table></td>
  <td class="shojioutercell" id="blueshoji" style="background-color:blue;"><table class="shojiinnertable" style="background-color:blue">
    <tr>
      <td class="charactercell" id="BC1" onclick="B(1)" style="background-color:white"><center><span id="B1">A</span></center></td>
      <td class="charactercell" id="BC2" onclick="B(2)"><center><span id="B2"><span style="color:white"></span></span></center></td>
      <td class="charactercell" id="BC3" onclick="B(3)"><center><span id="B3"><span style="color:white"></span></span></center></td>
    </tr>
    <tr>
      <td class="charactercell" id="BC4" onclick="B(4)" style="background-color:white"><center><span id="B4">&#332;</span></center></td>
      <td class="charactercell" id="BC5" onclick="B(5)" style="background-color:white"><center><span id="B5">J</span></center></td>
      <td class="charactercell" id="BC6" onclick="B(6)" style="background-color:white"><center><span id="B6">I</span></center></td>
    </tr>
    <tr>
      <td class="charactercell" id="BC7" onclick="B(7)" style="background-color:white"><center><span id="B7">&#20206;</span></center></td>
      <td class="charactercell" id="BC8" onclick="B(8)" style="background-color:white"><center><span id="B8">&#21517;</span></center></td>
      <td class="charactercell" id="BC9" onclick="B(9)"><center><span id="B9"></span></center></td>
    </tr>
    <tr>
      <td class="charactercell" id="BC10" onclick="B(10)"><center><span id="B10"></span></center></td>
      <td class="charactercell" id="BC11" onclick="B(11)" style="background-color:white"><center><span id="B11">&#38556;</span></center></td>
      <td class="charactercell" id="BC12" onclick="B(12)" style="background-color:white"><center><span id="B12">&#23376;</span></center></td>
    </tr>
  </table></td>
  <td id="result" class="resultspace"><span style="color:white; font-size:90%; font-style:italic; font-family:Georgia;">(Click a door)</span></td>
  <td id="track" class="scoretrack"></td>
  <td id="finalscore" class="finalscore"></td>
</table></center>
<a href="#popup1"><img title="Information" src="../questionmark.png" style="position:absolute; top:680px; left:10px; width:60px"></a>
<a href="https://twitter.com/jimdgmiles" target=blank_><img title="James Miles on Twitter" src="../twitter.png" style="position:absolute; top:680px; left:83px; width:60px"></a>
<a href="http://jdgmiles.github.io/" target="_blank"><img title="Projects Page" src="../jdgm.png" style="position:absolute; top:680px; left:156px; width:60px"></a>

<div id="popup1" class="overlay">
	<div class="popup">
		<div style="font-family:Georgia; color:white; text-align:center;">Kana Sh&#333;ji</div>
		<a class="close" href="#">&times;</a>
		<p style="font-family:Georgia; font-size:47%; color:white; text-align:justify;">Click a door to start the game, then click whichever kana is on <i>both</i> doors, in hiragana on the left and katakana on the right.<br><br>There will only ever be one that is on both doors; the rest are red herrings. You can click either of those &ldquo;matching&rdquo; characters - they both register as a correct answer.<br><br>As the game progresses the kana increase until each door has all 12 windows filled. The character difficulty also increases.<br><br>The levels have a time limit of 8 seconds plus half a second for each kana on the doors. A timer appears when you have 5 seconds remaining on a level.<br><br>You get four &ldquo;lives&rdquo;.</p><div style="font-family:Georgia; font-size:80%; color:white; text-align:center;">&#12364;&#12435;&#12400;&#12387;&#12390;&#65281;</div>
	</div>
</div>
</body>

</html>

<script type="text/javascript">
var redstart=8; var bluestart=418; var redpos=redstart; var bluepos=bluestart; var reddir=1; var bluedir=-1; // door positions
var animating=0; var animationtype=0; var slideorder=0; // animation trackers
var doorspeed=10; var animationspeed=10; // animation speed variables

var answerobject=-1;
var correct=0;
var usedobjects=[]; for(i=0; i<totalobjects; i++){usedobjects[i]=0;}
var tempusedobjects=[]; for(i=0; i<totalobjects; i++){tempusedobjects[i]=0;}
var testdummy;
var redanswercell; var blueanswercell;
var redcell=[]; var bluecell =[];

var redsymbol=["&#12354;", "&#12356;", "&#12358;", "&#12360;", "&#12362;", "&#12363;", "&#12365;", "&#12367;", "&#12369;", "&#12371;", "&#12373;", "&#12375;", "&#12377;", "&#12379;", "&#12381;", "&#12383;", "&#12385;", "&#12388;", "&#12390;", "&#12392;", "&#12394;", "&#12395;", "&#12396;", "&#12397;", "&#12398;", "&#12399;", "&#12402;", "&#12405;", "&#12408;", "&#12411;", "&#12414;", "&#12415;", "&#12416;", "&#12417;", "&#12418;", "&#12420;", "&#12422;", "&#12424;", "&#12425;", "&#12426;", "&#12427;", "&#12428;", "&#12429;", "&#12431;", "&#12434;", "&#12435;", "&#12364;", "&#12366;", "&#12368;", "&#12370;", "&#12372;", "&#12374;", "&#12376;", "&#12378;", "&#12380;", "&#12382;", "&#12384;", "&#12386;", "&#12389;", "&#12391;", "&#12393;", "&#12400;", "&#12403;", "&#12406;", "&#12409;", "&#12412;", "&#12401;", "&#12404;", "&#12407;", "&#12410;", "&#12413;", "&#12365;&#12419;", "&#12365;&#12421;", "&#12365;&#12423;", "&#12375;&#12419;", "&#12375;&#12421;", "&#12375;&#12423;", "&#12385;&#12419;", "&#12385;&#12421;", "&#12385;&#12423;", "&#12395;&#12419;", "&#12395;&#12421;", "&#12395;&#12423;", "&#12402;&#12419;", "&#12402;&#12421;", "&#12402;&#12423;", "&#12415;&#12419;", "&#12415;&#12421;", "&#12415;&#12423;", "&#12426;&#12419;", "&#12426;&#12421;", "&#12426;&#12423;", "&#12366;&#12419;", "&#12366;&#12421;", "&#12366;&#12423;", "&#12376;&#12419;", "&#12376;&#12421;", "&#12376;&#12423;", "&#12403;&#12419;", "&#12403;&#12421;", "&#12403;&#12423;", "&#12404;&#12419;", "&#12404;&#12421;", "&#12404;&#12423;", "&#12405;&#12353;", "&#12405;&#12355;", "&#12405;&#12359;", "&#12405;&#12361;", "&#12405;&#12421;", "&#12358;&#12355;", "&#12358;&#12359;", "&#12434;", "&#12436;&#12353;", "&#12436;&#12355;", "&#12436;&#12359;", "&#12436;&#12361;", "&#12388;&#12353;", "&#12388;&#12355;", "&#12388;&#12359;", "&#12388;&#12361;", "&#12385;&#12359;", "&#12375;&#12359;", "&#12376;&#12359;", "&#12385;", "&#12386;", "&#12389;", "&#12388;"]

var bluesymbol=["&#12450;", "&#12452;", "&#12454;", "&#12456;", "&#12458;", "&#12459;", "&#12461;", "&#12463;", "&#12465;", "&#12467;", "&#12469;", "&#12471;", "&#12473;", "&#12475;", "&#12477;", "&#12479;", "&#12481;", "&#12484;", "&#12486;", "&#12488;", "&#12490;", "&#12491;", "&#12492;", "&#12493;", "&#12494;", "&#12495;", "&#12498;", "&#12501;", "&#12504;", "&#12507;", "&#12510;", "&#12511;", "&#12512;", "&#12513;", "&#12514;", "&#12516;", "&#12518;", "&#12520;", "&#12521;", "&#12522;", "&#12523;", "&#12524;", "&#12525;", "&#12527;", "&#12530;", "&#12531;", "&#12460;", "&#12462;", "&#12464;", "&#12466;", "&#12468;", "&#12470;", "&#12472;", "&#12474;", "&#12476;", "&#12478;", "&#12480;", "&#12482;", "&#12485;", "&#12487;", "&#12489;", "&#12496;", "&#12499;", "&#12502;", "&#12505;", "&#12508;", "&#12497;", "&#12500;", "&#12503;", "&#12506;", "&#12509;", "&#12461;&#12515;", "&#12461;&#12517;", "&#12461;&#12519;", "&#12471;&#12515;", "&#12471;&#12517;", "&#12471;&#12519;", "&#12481;&#12515;", "&#12481;&#12517;", "&#12481;&#12519;", "&#12491;&#12515;", "&#12491;&#12517;", "&#12491;&#12519;", "&#12498;&#12515;", "&#12498;&#12517;", "&#12498;&#12519;", "&#12511;&#12515;", "&#12511;&#12517;", "&#12511;&#12519;", "&#12522;&#12515;", "&#12522;&#12517;", "&#12522;&#12519;", "&#12462;&#12515;", "&#12462;&#12517;", "&#12462;&#12519;", "&#12472;&#12515;", "&#12472;&#12517;", "&#12472;&#12519;", "&#12499;&#12515;", "&#12499;&#12517;", "&#12499;&#12519;", "&#12500;&#12515;", "&#12500;&#12517;", "&#12500;&#12519;", "&#12501;&#12449;", "&#12501;&#12451;", "&#12501;&#12455;", "&#12501;&#12457;", "&#12501;&#12517;", "&#12454;&#12451;", "&#12454;&#12455;", "&#12530;", "&#12532;&#12449;", "&#12532;&#12451;", "&#12532;&#12455;", "&#12532;&#12457;", "&#12484;&#12449;", "&#12484;&#12451;", "&#12484;&#12455;", "&#12484;&#12457;", "&#12481;&#12455;", "&#12471;&#12455;", "&#12472;&#12455;", "&#12486;&#12451;", "&#12487;&#12451;", "&#12487;&#12517;", "&#12488;&#12453;"]

var runningtotalobjects=2;
var runningtotalobjectsmodifier=2;
var totalobjects=123;
redsymbol[totalobjects+1]=""; bluesymbol[totalobjects+1]="";
var answered=-1;
var score=0;
var finished=0;
var scoretrack=[];
var time=100;
var levelzerotime=80;
var levelincrement=10;
var showtimecutoff=51;
var replay=0;
var lives=3;
var encouragementtrack=0;
var encouragement=["Nice!", "Great!", "Well done!", "Good!", "Cool!"]

function paintdoors(){
  answerobject=Math.floor(runningtotalobjects*Math.random());
  if(answered==0){answerobject=0}
  while(usedobjects[answerobject]){answerobject=(answerobject+1)%runningtotalobjects}
  redanswercell=Math.floor(12*Math.random());
  blueanswercell=Math.floor(12*Math.random());
  redcell[redanswercell]=answerobject;
  bluecell[blueanswercell]=answerobject;
  usedobjects[answerobject]=1;
  tempusedobjects[answerobject]=1;
  for(i=0; i<12; i++){
    testdummy=Math.floor(totalobjects*Math.random());
    while(tempusedobjects[testdummy]){testdummy=(testdummy+1)%totalobjects;}
    if(i!=redanswercell){redcell[i]=testdummy; tempusedobjects[testdummy]=1;}
  }
  for(i=0; i<12; i++){
    testdummy=Math.floor(totalobjects*Math.random());
    while(tempusedobjects[testdummy]){testdummy=(testdummy+1)%totalobjects;}
    if(i!=blueanswercell){bluecell[i]=testdummy; tempusedobjects[testdummy]=1;}
  }
  for(i=Math.floor(Math.sqrt(answered))+1; i<12; i++){
    testdummy=Math.floor(12*Math.random());
    while(redcell[testdummy]==totalobjects+1 || testdummy==redanswercell){testdummy=(testdummy+1)%12;}
    redcell[testdummy]=totalobjects+1;
  }
  for(i=Math.floor(Math.sqrt(answered))+1; i<12; i++){
    testdummy=Math.floor(12*Math.random());
    while(bluecell[testdummy]==totalobjects+1 || testdummy==blueanswercell){testdummy=(testdummy+1)%12;}
    bluecell[testdummy]=totalobjects+1;
  }
  for(i=0; i<totalobjects; i++){tempusedobjects[i]=0;}
}

function doorcoords(){
  document.getElementById("redshoji").style.left=redpos+"px";
  document.getElementById("blueshoji").style.left=bluepos+"px";
}

function updatereddoor(){
  for(i=0; i<12; i++){
    document.getElementById("RC"+(i+1)).style.backgroundColor="white";
    document.getElementById("R"+(i+1)).style.backgroundColor="white";
    document.getElementById("R"+(i+1)).innerHTML=redsymbol[redcell[i]];
    if(redcell[i]==totalobjects+1){document.getElementById("R"+(i+1)).style.backgroundColor="black"; document.getElementById("RC"+(i+1)).style.backgroundColor="black"; document.getElementById("RC"+(i+1)).style.border="3px solid maroon"}
  }
}

function updatebluedoor(){
  for(i=0; i<12; i++){
    document.getElementById("BC"+(i+1)).style.backgroundColor="white";
    document.getElementById("B"+(i+1)).style.backgroundColor="white";
    document.getElementById("B"+(i+1)).innerHTML=bluesymbol[bluecell[i]];
    if(bluecell[i]==totalobjects+1){document.getElementById("B"+(i+1)).style.backgroundColor="black"; document.getElementById("BC"+(i+1)).style.backgroundColor="black"; document.getElementById("BC"+(i+1)).style.border="3px solid navy"}
  }
}

function B(cell){
  if(answered==-1){timer();}
  if(!animating && !finished){
    time=levelzerotime+(levelincrement*(Math.floor(Math.sqrt(answered+1))+1));
    if(bluecell[cell-1]==answerobject){
      correct=1;
      document.getElementById("track").innerHTML="<div style=\"width:400px; text-align:center; color:white; font-size:120%; font-style:italic; font-family:Georgia; position:absolute; top:-23px; left:-125px;\">"+encouragement[encouragementtrack]+"</div>";
      encouragementtrack=(encouragementtrack+1)%encouragement.length;
//      scoretrack[answered]="<span style=\"font-size:100%; color:blue\">O</span>"
//      document.getElementById("track").innerHTML=scoretrack.join("");
    }
    else{
      scoretrack[answered]="<span style=\"font-size:100%; color:#FF1100\">&#10005;</span> <span style=\"font-size:90%; color:white\">"+redsymbol[answerobject]+" "+bluesymbol[answerobject]+"<br></span>";
      document.getElementById("track").innerHTML=scoretrack.join("");
      if(answered==-1){document.getElementById("track").innerHTML="<span style=\"color:white; font-size:90%; font-style:italic; font-family:Georgia; position:absolute; top:-65px; left:-75px;\">(Click a kana)</span>";}
    }
    runningtotalobjects+=runningtotalobjectsmodifier;
    answer();
  }
  if(replay){restart();}
}

function R(cell){
  if(answered==-1){timer();}
  if(!animating && !finished){
    time=levelzerotime+(levelincrement*(Math.floor(Math.sqrt(answered+1))+1));
    if(redcell[cell-1]==answerobject){
      correct=1;
//      scoretrack[answered]="<span style=\"font-size:100%; color:blue\">O</span>"
//      document.getElementById("track").innerHTML=scoretrack.join("");
    }
    else{
      scoretrack[answered]="<span style=\"font-size:100%; color:#FF1100\">&#10005;</span> <span style=\"font-size:90%; color:white\">"+redsymbol[answerobject]+" "+bluesymbol[answerobject]+"<br></span>";
      document.getElementById("track").innerHTML=scoretrack.join("");
    }
    runningtotalobjects+=runningtotalobjectsmodifier;
    answer();
  }
  if(replay){restart();}
}

function answer(){
  if(runningtotalobjects>totalobjects){runningtotalobjects=totalobjects;}
  answered++;
  if(answered==totalobjects){for(i=0; i<totalobjects; i++){usedobjects[i]=0;}}
  paintdoors();
  animating=1;
  if(correct==1){
    document.getElementById("result").style.color="#0044FF";
    document.getElementById("result").style.fontSize="1400%";
    document.getElementById("result").style.top="-290px";
    document.getElementById("result").style.left="810px";
    document.getElementById("result").style.fontWeight="bold";
    document.getElementById("result").innerHTML="&#9675;";
//    document.getElementById("finalscore").innerHTML="&#10003;";
    document.getElementById("finalscore").innerHTML=score+1;
    score++;}
  else if(answered>0){
    document.getElementById("result").style.color="#FF1100";
    document.getElementById("result").style.fontSize="750%";
    document.getElementById("result").style.top="-45px";
    document.getElementById("result").style.left="860px";
    document.getElementById("result").style.fontWeight="normal";
    document.getElementById("result").innerHTML="&#10005;";}
  animationtype=Math.floor((6*Math.random())%6);
  if(answered==totalobjects || answered-score>lives){finished=1; resultscreen();};
  newshoji();
}

function timer(){
  if(!finished){
    time--;
    if(time==0){B(blueanswercell%12); timer();}
    else{setTimeout(timer,100)}
    if(!animating){updatetime();}
  }
}

function updatetime(){
  if(!finished){
    document.getElementById("result").style.color="black";
    if(time<showtimecutoff){document.getElementById("result").style.color="white";}
    document.getElementById("result").style.fontSize="240%";
    document.getElementById("result").style.top="100px";
    document.getElementById("result").style.left="928px";
    document.getElementById("result").style.fontWeight="normal";
    document.getElementById("result").innerHTML=Math.floor(time/10)+"."+(time%10);
    document.getElementById("finalscore").innerHTML="";
    if(answered>0){document.getElementById("track").innerHTML="<span style=\"color:white; font-size:90%; font-style:italic; font-family:Georgia; position:absolute; top:-65px; left:-75px;\">(Find the pair)</span>";}
  }
}

function resultscreen(){
  document.getElementById("result").style.color="#0044FF";
  document.getElementById("result").style.fontSize="1400%";
  document.getElementById("result").style.top="-290px";
  document.getElementById("result").style.left="810px";
  document.getElementById("result").style.fontWeight="bold";
  document.getElementById("result").innerHTML="&#9675;";
  document.getElementById("finalscore").innerHTML=score;
  setTimeout(playagain,2000)
}

function playagain(){
  for(i=0; i<12; i++){bluecell[i]=totalobjects+1; redcell[i]=totalobjects+1;}
//  redsymbol[0]=""; redcell[0]=0;
//  redsymbol[1]="P"; redcell[1]=1;
  redsymbol[2]="P"; redcell[2]=2;
//  redsymbol[3]=""; redcell[3]=3;
//  redsymbol[4]="L"; redcell[4]=4;
  redsymbol[5]="L"; redcell[5]=5;
  redsymbol[6]="A"; redcell[6]=6;
  redsymbol[7]="G"; redcell[7]=7;
  redsymbol[8]="A"; redcell[8]=8;
//  redsymbol[9]=""; redcell[9]=9;
//  redsymbol[10]=""; redcell[10]=10;
  redsymbol[11]="Y"; redcell[11]=11;
//  bluesymbol[0]=""; bluecell[0]=0;
//  bluesymbol[1]=""; bluecell[1]=1;
//  bluesymbol[2]=""; bluecell[2]=2;
//  bluesymbol[3]=""; bluecell[3]=3;
//  bluesymbol[4]=""; bluecell[4]=4;
//  bluesymbol[5]=""; bluecell[5]=5;
  bluesymbol[6]="I"; bluecell[6]=6;
  bluesymbol[7]="N"; bluecell[7]=7;
  bluesymbol[8]="&#9786;"; bluecell[8]=8;
//  bluesymbol[9]=""; bluecell[9]=9;
//  bluesymbol[10]=""; bluecell[10]=10;
//  bluesymbol[11]=""; bluecell[11]=11;
  replay=1;
  animating=1;
  newshoji();
}

function restart(){
  for(i=0; i<12; i++){bluecell[i]=totalobjects+1; redcell[i]=totalobjects+1;}
  redsymbol[0]="K"; redcell[0]=0;
  redsymbol[1]="A"; redcell[1]=1;
  redsymbol[2]="N"; redcell[2]=2;
//  redsymbol[3]=""; redcell[3]=3;
  redsymbol[4]="S"; redcell[4]=4;
  redsymbol[5]="H"; redcell[5]=5;
//  redsymbol[6]=""; redcell[6]=6;
//  redsymbol[7]=""; redcell[7]=7;
//  redsymbol[8]=""; redcell[8]=8;
//  redsymbol[9]=""; redcell[9]=9;
//  redsymbol[10]=""; redcell[10]=10;
//  redsymbol[11]=""; redcell[11]=11;
  bluesymbol[0]="A"; bluecell[0]=0;
//  bluesymbol[1]=""; bluecell[1]=1;
//  bluesymbol[2]=""; bluecell[2]=2;
  bluesymbol[3]="&#332;"; bluecell[3]=3;
  bluesymbol[4]="J"; bluecell[4]=4;
  bluesymbol[5]="I"; bluecell[5]=5;
  bluesymbol[6]="&#20206;"; bluecell[6]=6;
  bluesymbol[7]="&#21517;"; bluecell[7]=7;
//  bluesymbol[8]=""; bluecell[8]=8;
//  bluesymbol[9]=""; bluecell[9]=9;
  bluesymbol[10]="&#38556;"; bluecell[10]=10;
  bluesymbol[11]="&#23376;"; bluecell[11]=11;
  answerobject=-1;
  correct=0;
  runningtotalobjects=0;
  redsymbol[totalobjects+1]=""; bluesymbol[totalobjects+1]="";
  answered=-1;
  score=0;
  finished=0;
  for(i=0; i<scoretrack.length; i++){scoretrack[i]="";}
  time=100;
  replay=0;
  for(i=0; i<totalobjects; i++){usedobjects[i]=0;}
  for(i=0; i<totalobjects; i++){tempusedobjects[i]=0;}
  document.getElementById("track").innerHTML="<span style=\"color:white; font-size:90%; font-style:italic; font-family:Georgia; position:absolute; top:-65px; left:-75px;\">(Click a door)</span>";
  document.getElementById("result").style.color="black";
  document.getElementById("finalscore").innerHTML="";
  animating=1;
  newshoji();
  setTimeout(resetsymbols,1300)
}

function resetsymbols(){
  redsymbol=["&#12354;", "&#12356;", "&#12358;", "&#12360;", "&#12362;", "&#12363;", "&#12365;", "&#12367;", "&#12369;", "&#12371;", "&#12373;", "&#12375;", "&#12377;", "&#12379;", "&#12381;", "&#12383;", "&#12385;", "&#12388;", "&#12390;", "&#12392;", "&#12394;", "&#12395;", "&#12396;", "&#12397;", "&#12398;", "&#12399;", "&#12402;", "&#12405;", "&#12408;", "&#12411;", "&#12414;", "&#12415;", "&#12416;", "&#12417;", "&#12418;", "&#12420;", "&#12422;", "&#12424;", "&#12425;", "&#12426;", "&#12427;", "&#12428;", "&#12429;", "&#12431;", "&#12434;", "&#12435;", "&#12364;", "&#12366;", "&#12368;", "&#12370;", "&#12372;", "&#12374;", "&#12376;", "&#12378;", "&#12380;", "&#12382;", "&#12384;", "&#12386;", "&#12389;", "&#12391;", "&#12393;", "&#12400;", "&#12403;", "&#12406;", "&#12409;", "&#12412;", "&#12401;", "&#12404;", "&#12407;", "&#12410;", "&#12413;", "&#12365;&#12419;", "&#12365;&#12421;", "&#12365;&#12423;", "&#12375;&#12419;", "&#12375;&#12421;", "&#12375;&#12423;", "&#12385;&#12419;", "&#12385;&#12421;", "&#12385;&#12423;", "&#12395;&#12419;", "&#12395;&#12421;", "&#12395;&#12423;", "&#12402;&#12419;", "&#12402;&#12421;", "&#12402;&#12423;", "&#12415;&#12419;", "&#12415;&#12421;", "&#12415;&#12423;", "&#12426;&#12419;", "&#12426;&#12421;", "&#12426;&#12423;", "&#12366;&#12419;", "&#12366;&#12421;", "&#12366;&#12423;", "&#12376;&#12419;", "&#12376;&#12421;", "&#12376;&#12423;", "&#12403;&#12419;", "&#12403;&#12421;", "&#12403;&#12423;", "&#12404;&#12419;", "&#12404;&#12421;", "&#12404;&#12423;", "&#12405;&#12353;", "&#12405;&#12355;", "&#12405;&#12359;", "&#12405;&#12361;", "&#12405;&#12421;", "&#12358;&#12355;", "&#12358;&#12359;", "&#12434;", "&#12436;&#12353;", "&#12436;&#12355;", "&#12436;&#12359;", "&#12436;&#12361;", "&#12388;&#12353;", "&#12388;&#12355;", "&#12388;&#12359;", "&#12388;&#12361;", "&#12385;&#12359;", "&#12375;&#12359;", "&#12376;&#12359;", "&#12385;", "&#12386;", "&#12389;", "&#12388;"]

  bluesymbol=["&#12450;", "&#12452;", "&#12454;", "&#12456;", "&#12458;", "&#12459;", "&#12461;", "&#12463;", "&#12465;", "&#12467;", "&#12469;", "&#12471;", "&#12473;", "&#12475;", "&#12477;", "&#12479;", "&#12481;", "&#12484;", "&#12486;", "&#12488;", "&#12490;", "&#12491;", "&#12492;", "&#12493;", "&#12494;", "&#12495;", "&#12498;", "&#12501;", "&#12504;", "&#12507;", "&#12510;", "&#12511;", "&#12512;", "&#12513;", "&#12514;", "&#12516;", "&#12518;", "&#12520;", "&#12521;", "&#12522;", "&#12523;", "&#12524;", "&#12525;", "&#12527;", "&#12530;", "&#12531;", "&#12460;", "&#12462;", "&#12464;", "&#12466;", "&#12468;", "&#12470;", "&#12472;", "&#12474;", "&#12476;", "&#12478;", "&#12480;", "&#12482;", "&#12485;", "&#12487;", "&#12489;", "&#12496;", "&#12499;", "&#12502;", "&#12505;", "&#12508;", "&#12497;", "&#12500;", "&#12503;", "&#12506;", "&#12509;", "&#12461;&#12515;", "&#12461;&#12517;", "&#12461;&#12519;", "&#12471;&#12515;", "&#12471;&#12517;", "&#12471;&#12519;", "&#12481;&#12515;", "&#12481;&#12517;", "&#12481;&#12519;", "&#12491;&#12515;", "&#12491;&#12517;", "&#12491;&#12519;", "&#12498;&#12515;", "&#12498;&#12517;", "&#12498;&#12519;", "&#12511;&#12515;", "&#12511;&#12517;", "&#12511;&#12519;", "&#12522;&#12515;", "&#12522;&#12517;", "&#12522;&#12519;", "&#12462;&#12515;", "&#12462;&#12517;", "&#12462;&#12519;", "&#12472;&#12515;", "&#12472;&#12517;", "&#12472;&#12519;", "&#12499;&#12515;", "&#12499;&#12517;", "&#12499;&#12519;", "&#12500;&#12515;", "&#12500;&#12517;", "&#12500;&#12519;", "&#12501;&#12449;", "&#12501;&#12451;", "&#12501;&#12455;", "&#12501;&#12457;", "&#12501;&#12517;", "&#12454;&#12451;", "&#12454;&#12455;", "&#12530;", "&#12532;&#12449;", "&#12532;&#12451;", "&#12532;&#12455;", "&#12532;&#12457;", "&#12484;&#12449;", "&#12484;&#12451;", "&#12484;&#12455;", "&#12484;&#12457;", "&#12481;&#12455;", "&#12471;&#12455;", "&#12472;&#12455;", "&#12486;&#12451;", "&#12487;&#12451;", "&#12487;&#12517;", "&#12488;&#12453;"]
}

function newshoji(){
  if(animating && animationtype==0){
    redpos+=(reddir*doorspeed);
    bluepos+=(bluedir*doorspeed);
    if(redpos>=bluestart){redpos=bluestart; reddir=-1; document.getElementById("redshoji").style.zIndex = "2";}
    if(bluepos<=redstart){bluepos=redstart; bluedir=1; document.getElementById("blueshoji").style.zIndex = "1";}
    if(redpos<=redstart){redpos=redstart; reddir=1; animating=0; document.getElementById("redshoji").style.zIndex = "1";}
    if(bluepos>=bluestart){bluepos=bluestart; bluedir=-1; animating=0; correct=0; updatetime();  document.getElementById("blueshoji").style.zIndex = "2";}
    if(Math.abs(bluepos-redpos)<2*doorspeed){if(document.getElementById("redshoji").style.zIndex<=document.getElementById("blueshoji").style.zIndex){updatereddoor()} else{updatebluedoor()}}
    doorcoords();
    setTimeout(newshoji,(animationspeed))
  }
  if(animating && animationtype==1){
    if(slideorder==0){
      redpos+=(reddir*doorspeed*2);
      if(redpos>=bluestart){redpos=bluestart; reddir=-1; updatereddoor();}
      if(redpos<=redstart){redpos=redstart; reddir=1; slideorder=1; document.getElementById("redshoji").style.zIndex = "2"; document.getElementById("blueshoji").style.zIndex = "1";}
      doorcoords();
    }
    else{
      bluepos+=(bluedir*doorspeed*2);
      if(bluepos<=redstart){bluepos=redstart; bluedir=1; updatebluedoor();}
      if(bluepos>=bluestart){bluepos=bluestart; bluedir=-1; slideorder=0; animating=0; correct=0; updatetime();document.getElementById("redshoji").style.zIndex = "1"; document.getElementById("blueshoji").style.zIndex = "2";}
      doorcoords();
    }
    setTimeout(newshoji,(animationspeed))
  }
  if(animating && animationtype==2){
    if(slideorder==0){
      document.getElementById("redshoji").style.zIndex = "2"; document.getElementById("blueshoji").style.zIndex = "1";
      redpos+=(reddir*doorspeed*2);
      if(redpos>=bluestart){redpos=bluestart; reddir=-1; updatebluedoor();}
      if(redpos<=redstart){redpos=redstart; reddir=1; slideorder=1; document.getElementById("redshoji").style.zIndex = "1"; document.getElementById("blueshoji").style.zIndex = "2";}
      doorcoords();
    }
    else{
      bluepos+=(bluedir*doorspeed*2);
      if(bluepos<=redstart){bluepos=redstart; bluedir=1; updatereddoor();}
      if(bluepos>=bluestart){bluepos=bluestart; bluedir=-1; slideorder=0; animating=0; correct=0; updatetime();}
      doorcoords();
    }
    setTimeout(newshoji,(animationspeed))
  }
  if(animating && animationtype==3){
    if(redpos==redstart && bluepos==bluestart){document.getElementById("redshoji").style.zIndex = "2"; document.getElementById("blueshoji").style.zIndex = "1";}
    redpos+=(reddir*doorspeed);
    bluepos+=(bluedir*doorspeed);
    if(redpos>=bluestart){redpos=bluestart; reddir=-1; document.getElementById("redshoji").style.zIndex = "1";}
    if(bluepos<=redstart){bluepos=redstart; bluedir=1; document.getElementById("blueshoji").style.zIndex = "2";}
    if(redpos<=redstart){redpos=redstart; reddir=1; animating=0;}
    if(bluepos>=bluestart){bluepos=bluestart; bluedir=-1; animating=0; correct=0; updatetime(); }
    if(Math.abs(bluepos-redpos)<2*doorspeed){if(document.getElementById("redshoji").style.zIndex<=document.getElementById("blueshoji").style.zIndex){updatereddoor()} else{updatebluedoor()}}
    doorcoords();
    setTimeout(newshoji,(animationspeed))
  }
  if(animating && animationtype==4){
    if(slideorder==0){
      bluepos+=(bluedir*doorspeed*2);
      if(bluepos<=redstart){bluepos=redstart; bluedir=1; updatereddoor();}
      if(bluepos>=bluestart){bluepos=bluestart; bluedir=-1; slideorder=1; document.getElementById("redshoji").style.zIndex = "2"; document.getElementById("blueshoji").style.zIndex = "1";}
      doorcoords();
    }
    else{
      redpos+=(reddir*doorspeed*2);
      if(redpos>=bluestart){redpos=bluestart; reddir=-1; updatebluedoor();}
      if(redpos<=redstart){redpos=redstart; reddir=1; slideorder=0; animating=0; correct=0; updatetime(); document.getElementById("redshoji").style.zIndex = "1"; document.getElementById("blueshoji").style.zIndex = "2";}
      doorcoords();
    }
    setTimeout(newshoji,(animationspeed))
  }
  if(animating && animationtype==5){
    if(slideorder==0){
      document.getElementById("redshoji").style.zIndex = "2"; document.getElementById("blueshoji").style.zIndex = "1";
      bluepos+=(bluedir*doorspeed*2);
      if(bluepos<=redstart){bluepos=redstart; bluedir=1; updatebluedoor();}
      if(bluepos>=bluestart){bluepos=bluestart; bluedir=-1; slideorder=1; document.getElementById("redshoji").style.zIndex = "1"; document.getElementById("blueshoji").style.zIndex = "2";}
      doorcoords();
    }
    else{
      redpos+=(reddir*doorspeed*2);
      if(redpos>=bluestart){redpos=bluestart; reddir=-1; updatereddoor();}
      if(redpos<=redstart){redpos=redstart; reddir=1; slideorder=0; animating=0; correct=0; updatetime(); }
      doorcoords();
    }
    setTimeout(newshoji,(animationspeed))
  }
}

</script>
